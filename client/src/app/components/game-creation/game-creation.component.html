<div class="container">

    <p>Section Cr√©ation du jeu!</p>
    <form #gameForm="ngForm" (ngSubmit)="onSubmit(gameForm)">

        <label for="title">Title:</label>
        <input type="text" id="title" name="title" [(ngModel)]="title" required><br><br>

        <label for="duration">Enter the duration:</label>
        <input type="number" id="duration" name="duration" step="1" [(ngModel)]="duration" required><br><br>

        <label for="description">Enter a description:</label>
        <input type="text" id="description" name="description" [(ngModel)]="description" required><br><br>

        <p>Questions:</p>

        <ng-container *ngFor="let question of quizCreationService.questions; let i = index">
            <div class="question" [attr.id]="'question' + i">
                <p>Question {{ i + 1 }}:</p>

                <label for="type{{i}}">Type de question:</label>
                <select [(ngModel)]="question.type" name="type{{i}}">
                    <option value="qcm">QCM</option>
                    <option value="qrl">QRL</option>
                </select><br>

                <label for="text{{i}}">Enter the question:</label>
                <input type="text" [attr.id]="'text' + i" name="text{{i}}" [(ngModel)]="question.text" required><br>

                <label for="points{{i}}">le nombre de points de la question:</label>
                <input type="number" [attr.id]="'points' + i" name="points{{i}}" [(ngModel)]="question.points" required><br>

                <p>Choix:</p>
            </div>

            <div *ngFor="let choix of question.choices; let j = index">
                <label for="choix{{i}}{{j}}">le choix{{j + 1}}:</label><br>
                <input type="text" [attr.id]="'choix' + i + j" name="textchoix{{i}}{{j}}" [(ngModel)]="choix.text" required><br>
                <input type="radio" [attr.id]="'trueRadio' + i + j" name="choice{{i}}{{j}}" [(ngModel)]="choix.selectedChoice" value="true">
                <label for="'trueRadio' + i + j">True</label>
                <input type="radio" [attr.id]="'falseRadio' + i + j" name="choice{{i}}{{j}}" [(ngModel)]="choix.selectedChoice" value="false">
                <label for="'falseRadio' + i + j">False</label><br><br>
            </div>
        
            <button type="button" (click)="quizCreationService.addChoice(question)">Add Choice</button><br><br>

        </ng-container>

        <button type="button" (click)="quizCreationService.addQuestion()">Add Question</button>
        <button type="submit">Submit</button>

    </form>
</div>
